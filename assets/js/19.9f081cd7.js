(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{271:function(e,t,n){},275:function(e,t,n){"use strict";n(90),n(291);var s=n(292),i=n.n(s),o=n(293),u=n.n(o);let l=null,r=null,a=null,c=null;const h=/[\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3]|[\u4E00-\u9FCC\u3400-\u4DB5\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|[\u3041-\u3096]|[\u30A1-\u30FA]/giu;function d(e){const t=e.path.split("/");let n="/";t[1]&&(n=`/${t[1]}/`);return(c[n]||e).title}function f(e,t,n){const s=function(e,t,n){const s=n.map(t=>p(e,t)||m(e,t)).filter(e=>e);if(0===s.length)return null;if(s.every(e=>null!=e.headerIndex))return p(e,t)||s[0];return m(e,t)||s.find(e=>null==e.headerIndex)}(e,t.toLowerCase(),n);if(!s)return{...g(e),slug:"",contentStr:null};if(null!=s.headerIndex)return{...g(e,s.headerIndex,s),slug:"#"+e.headers[s.headerIndex].slug,contentStr:null};let i=u.a.findLastIndex(e.headers||[],e=>null!=e.charIndex&&e.charIndex<s.charIndex);return-1===i&&(i=null),{...g(e,i),slug:null==i?"":"#"+e.headers[i].slug,...y(e,s)}}function g(e,t,n){if(null==t)return{headingStr:e.title};const s=[];for(;null!=t;){const n=e.headers[t];s.unshift(n),-1===(t=u.a.findLastIndex(e.headers,e=>e.level===n.level-1,t-1))&&(t=null)}const i=s.map(e=>e.title).join(" > "),o=s.slice(0,-1),l=u.a.sum(o.map(e=>(e.title||"").length))+3*o.length;return{headingStr:i,headingHighlight:n&&null!=n.headerIndex&&[n.charIndex+l,n.termLength]}}function p(e,t){if(!e.headers)return null;for(let n=0;n<e.headers.length;n++){const s=e.headers[n].normalizedTitle.indexOf(t);if(-1!==s)return{headerIndex:n,charIndex:s,termLength:t.length}}return null}function m(e,t){if(!e.normalizedContent)return null;const n=e.normalizedContent.indexOf(t);return-1===n?null:{headerIndex:null,charIndex:n,termLength:t.length}}function y(e,t){const{charIndex:n,termLength:s}=t;let i=e.content.lastIndexOf("\n",n),o=e.content.indexOf("\n",n);-1===i&&(i=0),-1===o&&(o=e.content.length);const l=e.content.slice(i,o),r=n-i,a=[r,s];if(120>=l.length)return{contentStr:l,contentHighlight:a};const c=u.a.round((120-s)/2),h=Math.max(r-c,0),d=Math.min(h+120,l.length);let f=l.slice(h,d);return a[0]=a[0]-h,h>0&&(f="..."+f,a[0]=a[0]+3),d<l.length&&(f+="..."),{contentStr:f,contentHighlight:a}}function x(e){return e?e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}t.a={buildIndex(e,t){const n=e.filter(e=>!e.frontmatter||!1!==e.frontmatter.search),s={encode:t.encode||"simple",tokenize:t.tokenize||"forward",split:t.split||/\W+/,async:!0,doc:{id:"key",field:["title","header","headersStr","content"]}};l=new i.a(s),l.add(n);const o=n.filter(e=>e.charsets.cyrillic),d=n.filter(e=>e.charsets.cjk);o.length&&(r=new i.a({...s,encode:"icase",split:/\s+/,tokenize:"forward"}),r.add(o)),d.length&&(a=new i.a({...s,encode:!1,tokenize:function(e){const t=[];let n=null;do{n=h.exec(e),n&&t.push(n[0])}while(n);return t}}),a.add(d)),c=u.a.keyBy(n,"path")},async match(e,t,n=7){const s=[{field:"title",query:e,limit:n,boost:10},{field:"headersStr",query:e,limit:n,boost:7},{field:"content",query:e,limit:n}],i=await l.search(s),o=r?await r.search(s):[],c=a?await a.search(s):[],h=u.a.uniqBy([...i,...o,...c],"path").map(n=>({...n,parentPageTitle:d(n),...f(n,x(e),t)})),g=u.a.groupBy(h,"parentPageTitle");return u.a.values(g).map(e=>e.map((e,t)=>0===t?e:{...e,parentPageTitle:null})).flat()},normalizeString:x}},283:function(e,t,n){"use strict";n(271)},298:function(e,t,n){"use strict";n.r(t);n(90);var s=n(275),i={name:"SearchModal",data:()=>({query:"",focused:!1,focusIndex:0,suggestions:[]}),computed:{searchPlaceholder:()=>"Search",showSuggestions(){return this.focused&&this.suggestions&&this.suggestions.length},alignRight(){return(this.$site.themeConfig.nav||[]).length+(this.$site.repo?1:0)<=2}},mounted(){this.placeholder=this.$site.themeConfig.searchPlaceholder||"",document.addEventListener("keydown",this.onHotkey),document.addEventListener("keydown",this.onEscapeKey),this.$refs.input.focus(),document.addEventListener("click",this.handleDocumentClick)},watch:{async query(e){e.length>=2?await this.fetchSuggestions():this.suggestions=[]}},methods:{highlightSnippet(e){const t=e.contentHighlight[0],n=t+e.contentHighlight[1];return`${e.contentStr.slice(0,t)}<span class="highlight">${e.contentStr.slice(t,n)}</span>${e.contentStr.slice(n)}`},async fetchSuggestions(){const e=this.query.trim().toLowerCase();if(!e)return void(this.suggestions=[]);const t=await s.a.match(e,e.split(/\s+/));this.suggestions=t.map(e=>({title:e.title,path:e.path+e.slug,header:e.headingStr,contentStr:e.contentStr,contentHighlight:e.contentHighlight}))},onEscapeKey(e){"Escape"!==e.key&&27!==e.keyCode||this.$emit("close-modal")},handleDocumentClick(e){const t=this.$refs.modalOuter,n=this.$refs.modalProper;t&&t.contains(e.target)&&!n.contains(e.target)&&this.$store.commit("closeSearchModal")},onInputFocus(){this.focused=!0},onInputBlur(){setTimeout(()=>{this.focused=!1},200)},openModal(){this.$emit("open-search-modal")},getPageLocalePath(e){for(const t in this.$site.locales||{})if("/"!==t&&0===e.path.indexOf(t))return t;return"/"},isSearchable(e){let t=null;return null===t||(t=Array.isArray(t)?t:new Array(t),t.filter(t=>e.path.match(t)).length>0)},onHotkey(e){e.srcElement===document.body&&["s","/"].includes(e.key)&&(this.$refs.input.focus(),e.preventDefault())},onUp(){this.focusIndex>0?this.focusIndex--:this.focusIndex=this.suggestions.length-1},onDown(){this.focusIndex=(this.focusIndex+1)%this.suggestions.length},go(e){this.showSuggestions&&(this.$router.push(this.suggestions[e].path),this.query="",this.focusIndex=0,this.$emit("close-modal"))},focus(e){this.focusIndex=e},unfocus(){this.focusIndex=-1}}},o=(n(283),n(10)),u=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",{ref:"modalOuter",staticClass:"search-modal"},[t("div",{ref:"modalProper",staticClass:"search-modal-content"},[t("input",{ref:"input",class:{focused:e.focused},attrs:{"aria-label":"Search",placeholder:e.searchPlaceholder,autocomplete:"off",spellcheck:"false"},domProps:{value:e.query},on:{input:function(t){e.query=t.target.value},focus:e.onInputFocus,blur:e.onInputBlur,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.onUp.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onDown.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.go(e.focusIndex))}]}}),e._v(" "),t("ul",{staticClass:"suggestions",class:{"align-right":e.alignRight},on:{mouseleave:e.unfocus}},e._l(e.suggestions,(function(n,s){return t("li",{key:s,staticClass:"suggestion",class:{focused:s===e.focusIndex},on:{mousedown:function(t){return e.go(s)},mouseenter:function(t){return e.focus(s)}}},[t("a",{attrs:{href:n.path},on:{click:function(e){e.preventDefault()}}},[t("span",{staticClass:"page-title"},[e._v(e._s(n.title||n.path))]),e._v(" "),n.header?t("span",{staticClass:"header"},[e._v("> "+e._s(n.header))]):e._e(),e._v(" "),n.contentStr&&n.contentHighlight?t("span",{staticClass:"content-snippet",domProps:{innerHTML:e._s(e.highlightSnippet(n))}}):e._e()])])})),0),e._v(" "),t("button",{on:{click:function(t){return e.$emit("close-modal")}}},[e._v("Close")])])])}),[],!1,null,null,null);t.default=u.exports}}]);